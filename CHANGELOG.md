# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.6] - 2025-01-29

### Added

#### 主密码保护（可选）
- 应用级别的主密码保护，类似 MobaXterm、Xshell
- PBKDF2 加密算法（100,000 次迭代 + SHA-512）
- 首次启动可选择设置或跳过
- 设置后每次启动需要验证密码
- 支持修改和移除主密码
- 验证期间界面锁定保护
- 文件系统持久化（不依赖 localStorage）
- 设置面板中的"安全"标签页管理

#### 侧边栏收起/展开
- 快捷键 `Ctrl/Cmd + B` 切换侧边栏
- 侧边栏收起后显示展开按钮
- 状态持久化保存
- 获得更大的终端显示空间
- 平滑动画过渡效果

### Changed

- **启动性能优化**：会话列表立即显示，非关键功能延迟加载
- **并行 IPC 调用**：主密码检查使用 Promise.all 并行执行
- 优化初始化顺序，提升启动速度
- 改进主密码对话框显示逻辑

### Fixed

- 修复主密码持久化问题（localStorage 改为文件系统）
- 修复点击"暂不设置"后仍然弹出主密码对话框的问题
- 修复启动加载慢的问题（优化初始化顺序）
- 修复主密码对话框被设置界面遮挡的问题

### Documentation

- 更新 README 添加主密码功能说明
- 更新用户手册添加完整的主密码章节
- 添加主密码安全说明和最佳实践
- 更新配置文件列表
- 添加忘记主密码的处理方法

## [1.0.5] - 2025-01-29

### Added

#### 主密码保护（可选）
- 应用级别的主密码保护，类似 MobaXterm、Xshell
- PBKDF2 加密算法（100,000 次迭代 + SHA-512）
- 首次启动可选择设置或跳过
- 设置后每次启动需要验证密码
- 支持修改和移除主密码
- 验证期间界面锁定保护
- 文件系统持久化（不依赖 localStorage）
- 设置面板中的"安全"标签页管理

#### 侧边栏收起/展开
- 快捷键 `Ctrl/Cmd + B` 切换侧边栏
- 侧边栏收起后显示展开按钮
- 状态持久化保存
- 获得更大的终端显示空间
- 平滑动画过渡效果

#### 终端分屏
- 支持 2-4 个终端分屏，同时操作多台服务器
- 自动布局调整：2 分屏（水平/垂直）、3-4 分屏（网格布局）
- 快捷键支持：`Ctrl/Cmd + Shift + D`（水平分屏）、`Ctrl/Cmd + Shift + E`（垂直分屏）
- 支持选择已保存会话快速创建分屏
- 分屏会话选择支持搜索功能
- 单独关闭分屏，自动调整布局
- 点击分屏区域自动聚焦

#### 批量命令执行（同步输入）
- 三种同步模式：关闭 / 全部 / 分屏
- 实时显示当前模式和终端数量
- 按钮颜色指示当前状态
- 支持所有终端输入（命令、文本、特殊字符）
- 循环切换同步模式
- 适合批量更新、配置、监控多台服务器

#### 终端搜索
- 实时搜索终端内容
- 高亮显示所有匹配项（黄色背景）
- 当前匹配项特殊标记（橙色背景）
- 上一个/下一个匹配导航
- 大小写敏感选项
- 正则表达式支持
- 快捷键：`Ctrl/Cmd + F` 打开搜索

#### 会话自动重连
- 网络断开自动重连（最多 3 次）
- 重连倒计时显示
- 标签页状态指示（黄色闪烁表示重连中）
- 手动重连/取消按钮
- SSH keepalive 配置（30秒间隔，90秒检测）
- 智能检测：手动 exit/logout/quit 不触发重连
- 重连通知和进度显示

#### 会话标签颜色标记
- 7 种预设颜色：灰、绿、橙、红、蓝、紫、黄
- 标签页左侧彩色边框标识
- 建议配色：绿色（开发）、橙色（测试）、红色（生产）
- 颜色配置持久化保存

#### SSH 密钥文件浏览器
- 文件浏览器选择私钥文件
- 支持常见格式：.pem、.key、.ppk
- 无需手动输入路径
- 自动读取密钥内容

#### 会话分组折叠状态持久化
- 分组折叠状态自动保存
- 应用重启后恢复折叠状态
- 每个分组独立保存状态

### Changed

- **启动性能优化**：会话列表立即显示，非关键功能延迟加载
- **并行 IPC 调用**：主密码检查使用 Promise.all 并行执行
- 增强活动标签页视觉效果（蓝色底边、蓝色文字、加粗）
- 优化分屏布局和样式
- 改进重连通知界面
- 优化搜索框样式和交互
- 优化终端渲染性能
- 改进会话状态管理
- 优化分屏切换逻辑

### Fixed

- 修复主密码持久化问题（localStorage 改为文件系统）
- 修复点击"暂不设置"后仍然弹出主密码对话框的问题
- 修复启动加载慢的问题（优化初始化顺序）
- 修复分屏切换时显示错误的问题
- 修复同步输入模式下会话切换异常
- 修复手动 exit 命令触发自动重连的问题
- 修复终端搜索 API 权限问题
- 修复会话列表右键菜单丢失问题

### Documentation

- 新增完整的用户使用手册（doc/USER_MANUAL.md）
- 精简 README，详细内容链接到用户手册
- 更新项目介绍，突出开发初衷和特色
- 修复文档链接错误

## [1.0.4] - 2025-01-XX

### Added
- 终端字体大小快捷键调整
  - `Ctrl/Cmd + =` 或 `+` 放大（最大 24）
  - `Ctrl/Cmd + -` 缩小（最小 10）
  - `Ctrl/Cmd + 0` 重置（14）
- 字体大小自动保存到 localStorage
- 字体调整实时通知

### Changed
- 优化活动标签页颜色和样式

## [1.0.3] - 2025-01-XX

### Added
- 11 款预设主题
  - 深色模式、浅色模式
  - Dracula、Monokai、Solarized Dark
  - Nord、One Dark、GitHub Dark
  - Tokyo Night、Gruvbox Dark、Material
- 自定义主题支持
  - 自定义背景色、侧边栏、主色调
  - 自定义文字和边框颜色
  - 实时预览效果
- 终端设置
  - 字体大小调整（10-24）
  - 字体选择（Courier New, Monaco, Menlo, Consolas）
  - 光标样式（方块、下划线、竖线）
  - 光标闪烁开关

## [1.0.2] - 2025-01-XX

### Added
- WebDAV 配置同步
  - 支持坚果云、Nextcloud、Synology NAS
  - 智能合并本地和云端配置
  - 自动同步支持（可设置间隔）
  - 日志文件同步（可选）
  - 自定义日志同步路径
- 日志管理
  - 自动记录会话日志
  - 日志查看和搜索
  - 日志导出功能
  - 日志文件管理
  - 会话时长统计
- 版本更新检查
  - 自动检查更新（每天一次）
  - 手动检查更新
  - 版本号显示
  - 一键跳转下载

## [1.0.1] - 2025-01-XX

### Added
- 会话分组管理
  - 创建、重命名、删除分组
  - 会话拖拽到分组
  - 分组折叠/展开
- 会话搜索功能
  - 搜索名称、主机、用户名、分组
  - 实时过滤显示
  - 快捷键 `Ctrl/Cmd + F`
- 会话导入/导出
  - 导出所有会话配置
  - 从备份恢复配置
  - 加密密码信息

### Changed
- 优化会话列表布局
- 改进分组显示样式

## [1.0.0] - 2025-01-XX

### Added

#### 核心功能
- SSH2 协议支持
- 密码和密钥认证
- 多标签页终端
- 会话保存和管理
- 会话配置加密存储

#### 终端功能
- 完整的终端模拟（基于 xterm.js）
- 支持中文等多语言字符集（UTF-8）
- 终端大小自适应
- 复制粘贴支持
- 多会话同时运行

#### SFTP 文件传输
- 图形化文件管理器
- 文件上传/下载
- 拖拽上传支持
- 批量文件下载
- 文件/文件夹操作（重命名、删除、新建）
- 传输进度显示
- 传输取消功能
- 右键菜单支持

#### 用户体验
- 现代化深色主题
- 快捷键支持
- 实时通知提示
- 双击快速连接
- 连接状态反馈
- 响应式界面设计

#### 安全特性
- 密码加密存储（AES-256-CBC）
- 加密密钥本地保存
- SSH2 协议加密通信
- 会话隔离

#### 跨平台支持
- macOS（Apple Silicon & Intel）
- Windows（x64 & ARM64）
- Linux（x64 & ARM64）

[1.0.6]: https://github.com/chankay/anotherssh/compare/v1.0.5...v1.0.6
[1.0.5]: https://github.com/chankay/anotherssh/compare/v1.0.4...v1.0.5
[1.0.4]: https://github.com/chankay/anotherssh/compare/v1.0.3...v1.0.4
[1.0.3]: https://github.com/chankay/anotherssh/compare/v1.0.2...v1.0.3
[1.0.2]: https://github.com/chankay/anotherssh/compare/v1.0.1...v1.0.2
[1.0.1]: https://github.com/chankay/anotherssh/compare/v1.0.0...v1.0.1
[1.0.0]: https://github.com/chankay/anotherssh/releases/tag/v1.0.0
