# AnotherSSH 用户使用手册

> 完整的功能说明和使用指南

## 目录

1. [快速开始](#快速开始)
2. [主密码保护](#主密码保护)
3. [SSH 连接管理](#ssh-连接管理)
4. [会话管理](#会话管理)
5. [终端操作](#终端操作)
6. [SFTP 文件传输](#sftp-文件传输)
7. [高级功能](#高级功能)
8. [设置和配置](#设置和配置)
9. [快捷键参考](#快捷键参考)
10. [常见问题](#常见问题)

---

## 快速开始

### 安装应用

1. 从 [GitHub Releases](https://github.com/chankay/anotherssh/releases) 下载适合你系统的安装包
2. 安装并启动应用

**macOS 用户注意**：首次打开时右键点击应用选择"打开"，或在终端执行：
```bash
xattr -cr /Applications/AnotherSSH.app
```

### 第一次连接

1. 点击左侧边栏的 **"新建连接"** 按钮
2. 填写连接信息：
   - **主机地址**：服务器 IP 或域名（如 `192.168.1.100`）
   - **端口**：SSH 端口（默认 22）
   - **用户名**：登录用户名（如 `root`）
   - **认证方式**：选择密码或密钥
3. 勾选 **"保存此会话配置"** 以便下次快速连接
4. 点击 **"连接"** 按钮

连接成功后，你将看到一个完整的终端界面，可以像在本地终端一样操作远程服务器。

---

## 主密码保护

主密码是一个可选的安全功能，用于保护您的会话数据。类似于 MobaXterm、Xshell 等专业 SSH 工具的主密码功能。

### 什么是主密码？

主密码是应用级别的密码保护：
- **保护对象**：所有保存的会话配置和密码
- **加密算法**：PBKDF2（100,000 次迭代）+ SHA-512
- **可选功能**：您可以选择使用或跳过
- **一次设置**：设置后每次启动需要输入

### 首次启动设置

首次启动应用时，会弹出主密码设置对话框：

**选项 1：设置主密码**
1. 输入主密码（至少 6 位）
2. 确认密码
3. 点击 **"确定"**
4. 下次启动需要输入此密码才能使用应用

**选项 2：暂不设置**
1. 点击 **"暂不设置"** 按钮
2. 直接进入应用
3. 下次启动不会再提示（除非您主动设置）

### 使用主密码

如果您设置了主密码，每次启动应用时：

1. 应用启动后会显示主密码验证对话框
2. 输入您设置的主密码
3. 点击 **"确定"** 或按 `Enter`
4. 验证成功后进入应用

**密码错误**：
- 提示 "密码错误，请重试"
- 密码框会清空
- 可以重新输入

**界面锁定**：
- 验证密码期间，界面会被锁定（半透明，不可操作）
- 验证成功后自动解锁

### 管理主密码

在设置面板的 **"安全"** 标签页中管理主密码：

#### 查看状态

显示当前主密码状态：
- **已设置**：绿色文字
- **未设置**：灰色文字

#### 设置主密码

如果之前选择了"暂不设置"，可以随时设置：

1. 打开设置（⚙️ 图标）
2. 切换到 **"安全"** 标签页
3. 点击 **"设置主密码"** 按钮
4. 输入新密码（至少 6 位）
5. 确认密码
6. 点击 **"确定"**

#### 修改主密码

如果已设置主密码，可以修改：

1. 打开设置 → **"安全"** 标签页
2. 点击 **"修改主密码"** 按钮
3. 输入旧密码
4. 输入新密码（至少 6 位）
5. 确认新密码
6. 点击 **"确定"**

#### 移除主密码

不再需要主密码保护时：

1. 打开设置 → **"安全"** 标签页
2. 点击 **"移除主密码"** 按钮
3. 确认移除
4. 主密码被移除，下次启动会再次提示是否设置

### 安全说明

**主密码的作用**：
- ✅ 防止他人未经授权访问您的会话配置
- ✅ 保护保存的服务器密码和密钥
- ✅ 适合共享电脑或公共环境使用

**主密码不能**：
- ❌ 不能保护正在运行的会话（需要锁定电脑）
- ❌ 不能防止配置文件被直接复制（文件已加密）
- ❌ 忘记密码无法找回（需要删除配置重新设置）

**最佳实践**：
1. 使用强密码（包含字母、数字、符号）
2. 不要与其他账号使用相同密码
3. 定期更换主密码
4. 妥善保管密码，忘记后无法找回

### 忘记主密码怎么办？

⚠️ **主密码无法找回**，如果忘记密码：

**方法 1：删除主密码文件（会话配置保留）**
```bash
# macOS/Linux
rm ~/.config/anotherssh/.master
rm ~/.config/anotherssh/.salt
rm ~/.config/anotherssh/.prompted

# Windows PowerShell
Remove-Item $env:APPDATA\anotherssh\.master
Remove-Item $env:APPDATA\anotherssh\.salt
Remove-Item $env:APPDATA\anotherssh\.prompted
```

重启应用后会提示重新设置主密码，会话配置不受影响。

**方法 2：完全重置（清空所有配置）**
```bash
# macOS/Linux
rm -rf ~/.config/anotherssh/

# Windows PowerShell
Remove-Item -Recurse $env:APPDATA\anotherssh\
```

重启应用后从头开始，所有会话配置会丢失。

**建议**：使用 WebDAV 同步或定期导出配置作为备份。

---

## SSH 连接管理

### 新建连接


#### 密码认证

1. 点击 **"新建连接"**
2. 填写基本信息（主机、端口、用户名）
3. 选择 **"密码"** 认证方式
4. 输入密码
5. 可选：填写会话名称（如 "生产服务器"）
6. 可选：选择分组（如 "生产环境"）
7. 可选：选择标签颜色（用于快速识别）
8. 勾选 **"保存此会话配置"**
9. 点击 **"连接"**

#### 密钥认证

1. 点击 **"新建连接"**
2. 填写基本信息（主机、端口、用户名）
3. 选择 **"密钥"** 认证方式
4. 点击 **"浏览..."** 按钮选择私钥文件
   - 支持格式：`.pem`、`.key`、`.ppk`
   - 常见位置：`~/.ssh/id_rsa`
5. 如果密钥有密码，输入密钥密码
6. 填写其他可选信息
7. 勾选 **"保存此会话配置"**
8. 点击 **"连接"**

### 快速连接

对于已保存的会话，有多种快速连接方式：

- **双击会话**：在会话列表中双击会话名称
- **右键菜单**：右键点击会话，选择 "连接"
- **拖拽连接**：将会话拖到终端区域

### 连接状态指示

标签页左侧的圆点显示连接状态：
- 🟢 **绿色**：已连接
- 🟡 **黄色闪烁**：正在重连
- 🔴 **红色**：已断开

### 多标签页管理

- **新建标签**：每次连接会创建新标签页
- **切换标签**：点击标签页切换不同的连接
- **关闭标签**：点击标签页上的 ✕ 按钮
- **标签颜色**：左侧彩色边框标识不同环境（可自定义）

---

## 会话管理

### 会话分组


#### 创建分组

1. 点击会话列表上方的 **"新建分组"** 按钮
2. 输入分组名称（如 "生产环境"、"测试服务器"）
3. 点击确定

#### 管理分组

- **折叠/展开**：点击分组标题折叠或展开分组（状态会自动保存）
- **重命名分组**：右键点击分组标题，选择 "重命名"
- **删除分组**：右键点击分组标题，选择 "删除"（会话会移到默认分组）
- **查看数量**：分组标题右侧显示该分组的会话数量

#### 分配会话到分组

**方法 1：创建时分配**
- 新建连接时，在 "分组" 下拉框中选择分组

**方法 2：编辑现有会话**
- 右键点击会话，选择 "编辑"
- 修改 "分组" 字段
- 保存

### 会话搜索

1. 点击会话列表上方的搜索框（或按 `Ctrl/Cmd + F`）
2. 输入关键词
3. 实时过滤显示匹配的会话

**搜索范围**：
- 会话名称
- 主机地址
- 用户名
- 分组名称

### 会话编辑

1. 右键点击会话
2. 选择 **"编辑"**
3. 修改任何字段（主机、端口、用户名、密码、分组等）
4. 点击 **"保存"**

### 会话删除

1. 右键点击会话
2. 选择 **"删除"**
3. 确认删除

**注意**：删除会话不会断开当前连接，只是删除保存的配置。

### 会话标签颜色

为不同环境的会话设置不同颜色，便于快速识别：

1. 新建或编辑会话时，点击 **"标签颜色"** 选择器
2. 选择颜色：
   - 🔘 灰色（默认）
   - 🟢 绿色（建议用于开发环境）
   - 🟠 橙色（建议用于测试环境）
   - 🔴 红色（建议用于生产环境）
   - 🔵 蓝色
   - 🟣 紫色
   - 🟡 黄色
3. 保存后，标签页左侧会显示对应颜色的边框

### 导入/导出配置


#### 导出配置

1. 点击会话列表上方的 **"导出配置"** 按钮
2. 选择保存位置
3. 输入文件名（默认 `sessions-backup.json`）
4. 点击保存

**导出内容**：
- 所有会话配置
- 分组信息
- 加密的密码和密钥

#### 导入配置

1. 点击会话列表上方的 **"导入配置"** 按钮
2. 选择之前导出的 JSON 文件
3. 确认导入

**导入策略**：
- 新会话会直接添加
- 同名会话会被覆盖
- 分组会自动合并

---

## 终端操作

### 基本操作

#### 输入命令

在终端中直接输入命令，按 `Enter` 执行，就像在本地终端一样。

#### 复制粘贴

- **复制**：选中文本后自动复制到剪贴板
- **粘贴**：
  - 右键点击终端，选择 "粘贴"
  - 使用 `Ctrl/Cmd + V`
  - 中键点击（Linux）

#### 清屏

- 输入 `clear` 命令
- 使用 `Ctrl + L` 快捷键

#### 中断命令

- 按 `Ctrl + C` 中断当前运行的命令

### 终端搜索

在终端中搜索文本内容：

1. 按 `Ctrl/Cmd + F` 打开搜索框
2. 输入搜索关键词
3. 使用功能：
   - **Enter** 或 **↓**：跳转到下一个匹配
   - **Shift + Enter** 或 **↑**：跳转到上一个匹配
   - **Aa**：切换大小写敏感
   - **.*：切换正则表达式模式
4. 按 `ESC` 关闭搜索框

**搜索高亮**：
- 所有匹配项显示黄色背景
- 当前匹配项显示橙色背景

### 终端字体大小

使用快捷键快速调整终端字体大小：

- **放大**：`Ctrl/Cmd + =` 或 `Ctrl/Cmd + +`（最大 24）
- **缩小**：`Ctrl/Cmd + -`（最小 10）
- **重置**：`Ctrl/Cmd + 0`（恢复到 14）

调整后会：
- 实时应用到所有终端（包括分屏）
- 自动保存设置
- 显示当前字体大小通知

### 自动重连


当网络意外断开时，应用会自动尝试重连：

**重连机制**：
- 检测时间：90 秒（SSH keepalive 30秒 × 3次）
- 重连间隔：30 秒
- 最大尝试：3 次

**重连界面**：
- 标签页状态变为黄色闪烁
- 终端显示重连通知和倒计时
- 显示 "立即重连" 和 "取消" 按钮

**手动操作**：
- **立即重连**：点击按钮立即尝试重连
- **取消重连**：点击按钮停止自动重连

**智能检测**：
- 手动输入 `exit`、`logout`、`quit` 命令不会触发重连
- 只有意外断开才会自动重连

**禁用自动重连**：
1. 打开设置（⚙️ 图标）
2. 切换到 "常规" 标签
3. 关闭 "自动重连" 开关

---

## SFTP 文件传输

### 打开 SFTP

连接 SSH 后，有两种方式打开 SFTP：

1. **方式 1**：点击标签页上的 📁 图标
2. **方式 2**：右键点击标签页，选择 "打开 SFTP"

SFTP 会在右侧面板打开，显示远程服务器的文件列表。

### 文件浏览

#### 导航

- **进入文件夹**：双击文件夹名称
- **返回上级**：点击路径栏中的 `..` 或路径中的父目录
- **快速跳转**：点击路径栏中的任意目录名

#### 文件信息

文件列表显示：
- 📁 文件夹图标 / 📄 文件图标
- 文件/文件夹名称
- 文件大小（文件夹显示 `-`）
- 修改时间
- 权限信息

#### 排序

点击列表头部可按不同字段排序：
- 名称
- 大小
- 修改时间

### 文件上传


#### 方式 1：点击上传按钮

1. 在 SFTP 面板中，点击 **"上传"** 按钮
2. 选择要上传的文件
3. 等待上传完成

#### 方式 2：拖拽上传

1. 从本地文件管理器中选择文件
2. 直接拖拽到 SFTP 文件列表区域
3. 松开鼠标，自动开始上传

**上传特点**：
- 支持单个文件上传
- 支持多个文件同时上传
- 显示实时上传进度
- 上传到当前目录

### 文件下载

#### 下载单个文件

**方式 1**：双击文件名
**方式 2**：右键点击文件，选择 "下载"

#### 批量下载

1. 勾选要下载的文件（可多选）
2. 点击 **"下载选中"** 按钮
3. 选择本地保存位置
4. 等待下载完成

**快速选择**：
- 点击 **"全选"** 按钮选择当前目录所有文件
- 再次点击取消全选

### 文件操作

#### 新建文件夹

1. 点击 **"新建文件夹"** 按钮
2. 输入文件夹名称
3. 点击确定

#### 重命名

1. 右键点击文件或文件夹
2. 选择 **"重命名"**
3. 输入新名称
4. 点击确定

#### 删除

1. 右键点击文件或文件夹
2. 选择 **"删除"**
3. 确认删除

**注意**：删除操作不可恢复，请谨慎操作。

### 传输管理

#### 查看进度

传输时，右下角会显示进度条：
- 文件名
- 传输百分比
- 传输速度
- 已传输/总大小

#### 取消传输

点击进度条上的 **✕** 按钮可以取消当前传输。

#### 传输完成

传输完成后会显示通知：
- 成功：显示绿色通知
- 失败：显示红色错误信息

### SFTP 技巧


**大文件传输**：
- 建议使用有线网络
- 避免在传输时切换网络
- 传输中断可重新上传/下载

**批量操作**：
- 使用 Shift 点击选择连续文件
- 使用 Ctrl/Cmd 点击选择多个文件
- 使用 "全选" 快速选择所有文件

**路径导航**：
- 点击路径栏快速跳转
- 使用 `..` 返回上级目录
- 双击文件夹进入子目录

---

## 高级功能

### 终端分屏

在一个标签页中同时查看多个终端，支持 2-4 个分屏。

#### 创建分屏

**方式 1：使用快捷键**
- `Ctrl/Cmd + Shift + D`：水平分屏（上下布局）
- `Ctrl/Cmd + Shift + E`：垂直分屏（左右布局）

**方式 2：使用工具栏按钮**
1. 点击工具栏的 **"水平分屏"** 或 **"垂直分屏"** 按钮
2. 选择连接方式：
   - **新建连接**：输入新的 SSH 连接信息
   - **选择已保存会话**：从列表中快速选择
3. 如果选择已保存会话，可以使用搜索框快速查找
4. 点击 **"连接"** 创建分屏

#### 分屏布局

- **2 分屏**：
  - 水平：上下布局
  - 垂直：左右布局
- **3 分屏**：自动切换为网格布局（上 1 下 2）
- **4 分屏**：2×2 网格布局

#### 分屏操作

**切换焦点**：
- 点击任意分屏区域自动聚焦
- 当前焦点的分屏会高亮显示

**关闭分屏**：
- 点击分屏右上角的 **✕** 按钮
- 关闭后自动调整布局

**独立操作**：
- 每个分屏有独立的 SSH 连接
- 可以连接不同的服务器
- 可以执行不同的命令

#### 分屏使用场景

- 同时监控多台服务器
- 对比不同服务器的配置
- 在一台服务器上同时执行多个任务
- 实时查看日志和执行命令

### 批量命令执行（同步输入）


同时向多个终端发送相同的命令，适合批量操作。

#### 启用同步输入

1. 打开多个 SSH 连接或创建分屏
2. 点击工具栏的 **"同步输入"** 按钮（🎯 图标）
3. 按钮会循环切换三种模式：
   - **关**：正常模式，输入只发送到当前终端
   - **全部**：输入同步到所有打开的终端（所有标签页）
   - **分屏**：输入只同步到当前分屏的所有面板

#### 模式说明

**关闭模式（默认）**：
- 按钮显示：`同步: 关`
- 按钮颜色：灰色
- 行为：输入只发送到当前焦点的终端

**全部模式**：
- 按钮显示：`同步: 全部 (N)`（N 为终端数量）
- 按钮颜色：蓝色
- 行为：输入同步到所有打开的标签页

**分屏模式**：
- 按钮显示：`同步: 分屏 (N)`（N 为分屏数量）
- 按钮颜色：蓝色
- 行为：输入只同步到当前标签页的所有分屏

#### 使用示例

**场景 1：批量更新多台服务器**
1. 打开 3 个服务器连接（3 个标签页）
2. 点击同步输入按钮，切换到 **"全部"** 模式
3. 输入命令：`sudo apt update && sudo apt upgrade -y`
4. 按 Enter，命令会同时在 3 台服务器上执行

**场景 2：对比查看多台服务器信息**
1. 创建 4 分屏，连接 4 台服务器
2. 点击同步输入按钮，切换到 **"分屏"** 模式
3. 输入命令：`df -h`
4. 同时查看 4 台服务器的磁盘使用情况

#### 注意事项

⚠️ **使用同步输入时请注意**：

1. **谨慎使用 "全部" 模式**
   - 确保命令适用于所有服务器
   - 避免在不同环境（开发/生产）混用

2. **危险操作请逐个确认**
   - 删除文件、修改配置等操作
   - 建议先在单个终端测试

3. **命令兼容性**
   - 不同系统的命令可能不同
   - 确保所有服务器支持该命令

4. **手动退出不受影响**
   - 在同步模式下输入 `exit` 会同时断开所有终端
   - 但不会触发自动重连

#### 最佳实践

- 先在单个终端测试命令
- 使用 "分屏" 模式限制影响范围
- 批量操作前做好备份
- 使用会话标签颜色区分环境

---

## 设置和配置

点击左侧边栏顶部的 **⚙️** 图标打开设置面板。

### 主题设置


#### 预设主题

选择 11 款内置主题之一：

1. **深色模式**（默认）- 经典深色主题
2. **浅色模式** - 明亮的浅色主题
3. **Dracula** - 紫色系高对比主题
4. **Monokai** - 经典编辑器配色
5. **Solarized Dark** - 护眼深色配色
6. **Nord** - 北欧冷色调
7. **One Dark** - Atom 编辑器风格
8. **GitHub Dark** - GitHub 官方深色主题
9. **Tokyo Night** - 深蓝色主题
10. **Gruvbox Dark** - 复古温暖配色
11. **Material** - Google Material Design

**应用主题**：
1. 在 "主题" 标签页选择主题
2. 点击 **"应用主题"** 按钮
3. 界面立即更新

#### 自定义主题

创建你自己的配色方案：

1. 选择 "自定义主题"
2. 调整各项颜色：
   - **背景色**：主界面背景
   - **侧边栏颜色**：左侧边栏背景
   - **主色调**：按钮、链接等强调色
   - **文字颜色**：主要文字颜色
   - **边框颜色**：分隔线和边框
3. 实时预览效果
4. 点击 **"应用主题"** 保存

### 终端设置

#### 字体配置

**字体大小**：
- 范围：10 - 24
- 默认：14
- 拖动滑块或输入数字调整

**字体系列**：
选择等宽字体：
- Courier New
- Monaco（macOS）
- Menlo（macOS）
- Consolas（Windows）
- 'Courier New'（跨平台）

#### 光标设置

**光标样式**：
- **方块**（block）：实心方块
- **下划线**（underline）：下划线
- **竖线**（bar）：竖线

**光标闪烁**：
- 开启：光标闪烁
- 关闭：光标静止

#### 应用设置

点击 **"应用设置"** 按钮保存终端设置，所有终端会立即更新。

### 常规设置

**侧边栏默认状态**：
- 展开：应用启动时侧边栏展开（默认）
- 收起：应用启动时侧边栏收起

**自动重连**：
- 开启：网络断开时自动尝试重连
- 关闭：断开后不重连，直接关闭会话

**启动时检查更新**：
- 开启：应用启动时自动检查新版本
- 关闭：不自动检查（可手动检查）

### 安全设置

管理主密码功能，保护您的会话数据。

**主密码状态**：
- 显示当前是否已设置主密码
- 已设置：绿色 "已设置"
- 未设置：灰色 "未设置"

**设置主密码**（未设置时显示）：
1. 点击 **"设置主密码"** 按钮
2. 输入密码（至少 6 位）
3. 确认密码
4. 点击 **"确定"**

**修改主密码**（已设置时显示）：
1. 点击 **"修改主密码"** 按钮
2. 输入旧密码
3. 输入新密码
4. 确认新密码
5. 点击 **"确定"**

**移除主密码**（已设置时显示）：
1. 点击 **"移除主密码"** 按钮
2. 确认移除
3. 主密码被移除，下次启动会再次提示设置

详细说明请参考 [主密码保护](#主密码保护) 章节。

### WebDAV 同步

在多台设备间同步会话配置。

#### 支持的服务

- **坚果云**（推荐，国内访问快）
- **Nextcloud**（开源自建）
- **Synology NAS**（群晖）
- 其他 WebDAV 服务

#### 配置步骤

1. 切换到 **"同步"** 标签页
2. 填写 WebDAV 配置：
   - **服务器地址**：WebDAV URL（如 `https://dav.jianguoyun.com/dav/`）
   - **用户名**：账号用户名
   - **密码**：应用专用密码（不是登录密码）
   - **远程路径**：存储路径（如 `/anotherssh/`）
3. 点击 **"测试连接"** 验证配置
4. 配置成功后，可以：
   - 点击 **"立即同步"** 手动同步
   - 开启 **"自动同步"** 定期同步
   - 设置同步间隔（分钟）

#### 日志同步

可选功能，同步会话日志文件：

1. 勾选 **"同步日志文件"**
2. 设置 **"日志同步路径"**（默认 `anotherssh-logs`）
3. 点击 **"立即同步"**

**注意**：
- 日志文件可能较大，根据需要启用
- 首次同步可能需要在 WebDAV 中手动创建日志目录
- 已存在且大小相同的日志会自动跳过

#### 同步策略

**智能合并**：
- 本地和云端配置自动合并
- 相同会话以最新修改为准
- 不会丢失任何配置

**冲突处理**：
- 自动选择最新的配置
- 保留所有唯一的会话

#### 坚果云配置示例

1. 登录坚果云网页版
2. 进入 **"账户信息"** → **"安全选项"**
3. 创建 **"应用密码"**（用于 AnotherSSH）
4. 在 AnotherSSH 中填写：
   - 服务器：`https://dav.jianguoyun.com/dav/`
   - 用户名：你的坚果云账号
   - 密码：刚创建的应用密码
   - 路径：`/anotherssh/`

### 日志管理


查看和管理会话日志。

#### 自动记录

每次 SSH 连接会自动创建日志文件，记录：
- 所有终端输入输出
- 会话开始时间
- 会话结束时间
- 会话持续时长

#### 查看日志

1. 切换到 **"日志"** 标签页
2. 浏览日志列表，显示：
   - 会话名称
   - 创建时间
   - 文件大小
3. 点击 **"查看"** 按钮查看日志内容

#### 导出日志

1. 在日志列表中找到要导出的日志
2. 点击 **"导出"** 按钮
3. 选择保存位置
4. 日志以纯文本格式保存

#### 删除日志

**删除单个日志**：
1. 点击日志右侧的 **"删除"** 按钮
2. 确认删除

**批量删除**：
1. 点击 **"清除所有日志"** 按钮
2. 确认删除所有日志

#### 打开日志目录

点击 **"打开日志目录"** 按钮，直接在文件管理器中打开日志文件夹。

**日志位置**：
- **macOS**: `~/Library/Application Support/anotherssh/logs/`
- **Windows**: `%APPDATA%/anotherssh/logs/`
- **Linux**: `~/.config/anotherssh/logs/`

---

## 快捷键参考

### 全局快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + N` | 新建连接 |
| `Ctrl/Cmd + F` | 聚焦搜索框 |
| `Ctrl/Cmd + ,` | 打开设置 |
| `ESC` | 关闭对话框 |

### 终端快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + F` | 打开终端搜索 |
| `Ctrl/Cmd + =` 或 `+` | 放大字体 |
| `Ctrl/Cmd + -` | 缩小字体 |
| `Ctrl/Cmd + 0` | 重置字体大小 |
| `Ctrl + C` | 中断命令 |
| `Ctrl + L` | 清屏 |
| `Ctrl/Cmd + V` | 粘贴 |

### 分屏快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + Shift + D` | 水平分屏 |
| `Ctrl/Cmd + Shift + E` | 垂直分屏 |

### 搜索快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 下一个匹配 |
| `Shift + Enter` | 上一个匹配 |
| `ESC` | 关闭搜索 |

---

## 常见问题


### 连接问题

**Q: 连接失败，提示 "Connection refused"**

A: 检查以下几点：
1. 服务器 IP 地址是否正确
2. SSH 端口是否正确（默认 22）
3. 服务器防火墙是否允许 SSH 连接
4. 服务器 SSH 服务是否运行：`sudo systemctl status sshd`

**Q: 连接失败，提示 "Authentication failed"**

A: 认证失败，检查：
1. 用户名是否正确
2. 密码是否正确（注意大小写）
3. 如果使用密钥，检查密钥文件路径和格式
4. 密钥是否有密码保护，密码是否正确

**Q: 连接后无法输入命令**

A: 可能原因：
1. 终端未获得焦点，点击终端区域
2. 连接已断开，查看标签页状态指示器
3. 服务器响应慢，等待几秒

**Q: 连接突然断开**

A: 可能原因：
1. 网络不稳定
2. 服务器重启或关闭
3. SSH 会话超时
4. 防火墙中断连接

解决方法：
- 启用自动重连功能
- 检查网络连接
- 手动重新连接

### SFTP 问题

**Q: SFTP 无法打开**

A: 检查：
1. SSH 连接是否正常
2. 服务器是否支持 SFTP（大多数 SSH 服务器都支持）
3. 用户是否有文件访问权限

**Q: 文件上传失败**

A: 可能原因：
1. 目标目录没有写入权限
2. 磁盘空间不足
3. 文件名包含特殊字符
4. 网络中断

解决方法：
- 检查目录权限：`ls -la`
- 检查磁盘空间：`df -h`
- 重命名文件，避免特殊字符
- 重新上传

**Q: 文件下载很慢**

A: 优化建议：
1. 使用有线网络
2. 避免同时传输多个大文件
3. 检查网络带宽
4. 考虑压缩后再传输

### 终端问题

**Q: 中文显示乱码**

A: 检查：
1. 服务器是否支持 UTF-8：`echo $LANG`
2. 设置服务器编码：`export LANG=en_US.UTF-8`
3. 在 `/etc/locale.conf` 中永久设置

**Q: 终端字体太小/太大**

A: 使用快捷键调整：
- 放大：`Ctrl/Cmd + =`
- 缩小：`Ctrl/Cmd + -`
- 重置：`Ctrl/Cmd + 0`

或在设置中调整字体大小。

**Q: 复制粘贴不工作**

A: 尝试：
1. 选中文本后自动复制
2. 右键点击终端粘贴
3. 使用 `Ctrl/Cmd + V` 粘贴
4. 检查是否有其他程序占用剪贴板

### 分屏问题

**Q: 分屏后无法输入**

A: 点击要输入的分屏区域，确保其获得焦点。

**Q: 分屏布局混乱**

A: 关闭所有分屏，重新创建。

**Q: 分屏连接失败**

A: 检查：
1. 连接信息是否正确
2. 是否超过最大分屏数（4 个）
3. 主连接是否正常

### 同步问题


**Q: WebDAV 连接测试失败**

A: 检查：
1. 服务器地址是否正确（包括 `https://` 前缀）
2. 用户名和密码是否正确
3. 是否使用应用专用密码（不是登录密码）
4. 网络是否正常
5. WebDAV 服务是否启用

**Q: 同步后配置丢失**

A: 不会丢失，同步使用智能合并：
1. 本地和云端配置会合并
2. 相同会话以最新修改为准
3. 所有唯一会话都会保留

如果担心，可以先导出配置备份。

**Q: 日志同步失败**

A: 可能原因：
1. 日志目录不存在，需要在 WebDAV 中手动创建
2. 日志文件过大，网络超时
3. 磁盘空间不足

解决方法：
- 在 WebDAV 网页版或客户端中创建日志目录
- 分批同步，先删除部分旧日志
- 清理 WebDAV 空间

### 性能问题

**Q: 应用启动慢**

A: 可能原因：
1. 保存的会话太多
2. 日志文件太多太大
3. 系统资源不足

优化建议：
- 删除不用的会话
- 定期清理日志
- 关闭不必要的后台程序

**Q: 终端响应慢**

A: 检查：
1. 网络延迟：`ping 服务器IP`
2. 服务器负载：`top` 或 `htop`
3. 本地 CPU 使用率

**Q: 内存占用高**

A: 正常现象，Electron 应用会占用较多内存。优化建议：
1. 关闭不用的标签页
2. 减少分屏数量
3. 定期重启应用

### 其他问题

**Q: 忘记主密码怎么办？**

A: 主密码无法找回，需要删除主密码文件：

```bash
# macOS/Linux
rm ~/.config/anotherssh/.master
rm ~/.config/anotherssh/.salt
rm ~/.config/anotherssh/.prompted

# Windows PowerShell
Remove-Item $env:APPDATA\anotherssh\.master
Remove-Item $env:APPDATA\anotherssh\.salt
Remove-Item $env:APPDATA\anotherssh\.prompted
```

重启应用后会提示重新设置主密码，会话配置不受影响。

**Q: 主密码和会话密码有什么区别？**

A: 
- **主密码**：应用级别的保护，用于解锁整个应用
- **会话密码**：服务器登录密码，用于 SSH 连接

主密码保护所有会话配置（包括会话密码），会话密码用于连接服务器。

**Q: 设置主密码后启动变慢了？**

A: 不会。应用已优化启动流程：
1. 会话列表立即显示
2. 主密码验证在后台进行
3. 如果已设置主密码，界面会被锁定直到验证成功

**Q: 可以跳过主密码验证吗？**

A: 不可以。如果已设置主密码，必须输入正确密码才能使用应用。这是安全功能的设计。

如果不想使用主密码，可以在设置中移除。

**Q: macOS 提示应用已损坏**

A: 这是因为应用未经 Apple 签名。解决方法：
1. 右键点击应用，选择 "打开"
2. 或在终端执行：`xattr -cr /Applications/AnotherSSH.app`

**Q: 如何备份配置**

A: 三种方法：
1. 使用 "导出配置" 功能
2. 使用 WebDAV 同步到云端
3. 手动复制配置文件夹（见下方路径）

**Q: 配置文件在哪里**

A: 配置文件位置：
- **macOS**: `~/Library/Application Support/anotherssh/`
- **Windows**: `%APPDATA%/anotherssh/`
- **Linux**: `~/.config/anotherssh/`

包含文件：
- `sessions.json` - 会话配置（加密）
- `.key` - 加密密钥
- `.master` - 主密码哈希（如果设置了主密码）
- `.salt` - 主密码盐值（如果设置了主密码）
- `.prompted` - 主密码提示标记
- `webdav-config.json` - WebDAV 配置
- `logs/` - 日志文件夹

**Q: 如何卸载应用**

A: 
1. 删除应用程序
2. 删除配置文件夹（见上方路径）
3. macOS 还需删除：`~/Library/Logs/anotherssh/`

**Q: 如何报告问题**

A: 
1. 访问 [GitHub Issues](https://github.com/chankay/anotherssh/issues)
2. 描述问题和复现步骤
3. 附上错误信息和日志（如果有）
4. 说明操作系统和应用版本

---

## 使用技巧

### 高效工作流

1. **使用分组管理会话**
   - 按环境分组（开发/测试/生产）
   - 按项目分组
   - 按客户分组

2. **使用标签颜色**
   - 红色：生产环境（谨慎操作）
   - 橙色：测试环境
   - 绿色：开发环境
   - 蓝色：数据库服务器

3. **使用分屏提高效率**
   - 同时监控多台服务器
   - 一边查看日志，一边执行命令
   - 对比不同服务器的配置

4. **使用同步输入批量操作**
   - 批量更新服务器
   - 批量部署应用
   - 批量查看状态

5. **使用 WebDAV 同步**
   - 在公司和家里使用相同配置
   - 团队共享常用服务器配置
   - 自动备份配置

### 安全建议

1. **使用主密码保护**
   - 在共享电脑上使用主密码
   - 定期更换主密码
   - 使用强密码（字母+数字+符号）

2. **使用密钥认证**
   - 比密码更安全
   - 避免密码泄露
   - 支持无密码登录

3. **定期更换密码**
   - 定期更新服务器密码
   - 更新后记得修改保存的会话

4. **谨慎使用同步输入**
   - 避免在生产环境误操作
   - 使用标签颜色区分环境
   - 危险命令逐个确认

5. **保护配置文件**
   - 配置文件包含加密的密码
   - 不要分享配置文件
   - 定期备份配置

6. **使用应用专用密码**
   - WebDAV 同步使用应用密码
   - 不要使用主账号密码
   - 定期更换应用密码

---

## 更新日志

查看 [GitHub Releases](https://github.com/chankay/anotherssh/releases) 了解最新版本和更新内容。

## 获取帮助

- **GitHub Issues**: [提交问题](https://github.com/chankay/anotherssh/issues)
- **文档**: [README.md](../README.md)
- **主题文档**: [THEMES.md](../THEMES.md)
- **同步文档**: [WEBDAV_SYNC.md](../WEBDAV_SYNC.md)

---

**AnotherSSH** - 让 SSH 连接更简单、更高效！🚀
